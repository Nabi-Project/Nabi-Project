version: "3.8"

services:
  reverse-proxy:
    image: reverse-proxy
    build: ../../utility/Reverse-Proxy
    container_name: reverse-proxy
    ports:
      - "8080:80"
    networks: 
      - pwa-network
      - nlu-network
      - tts-network

  web-service:
    image: web-service
    build: ../../src/Nabi-UI
    container_name: web-service
    networks:
      - pwa-network
  listening-service:
    image: listening-service
    build: ../../src/Nabi-Brain
    container_name: listening-service
    networks:
      - nlu-network
      - rasa-network
  speaking-service:
    image: speaking-service
    build: ../../src/Nabi-Voice/service
    container_name: speaking-service
    networks:
      - tts-network

  action-server:
    image: action-server
    build: ../../src/Nabi-Brain/actions
    container_name: action-server
    networks:
      - rasa-network

networks: 
  pwa-network:
  nlu-network:
  tts-network:
  rasa-network: